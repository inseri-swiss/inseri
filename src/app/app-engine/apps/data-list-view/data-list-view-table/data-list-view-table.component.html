<!-- FILTER -->
<div style="display: flex;
     justify-content: space-between;" *ngIf="dataListTableSettings.filter.showFilter && dataSource && dataSource.data">
  <span>
    <mat-form-field>
      <input matInput type="text" (keyup)="doFilter($event.target.value)" placeholder="Filter">
      <mat-hint *ngIf="paginator">Displaying {{getSumOfDisplayedEntries()}} of {{dataSource.data.length}} entries in total</mat-hint>
    </mat-form-field>
  </span>
  <span>
    <button id = "settings-button" mat-icon-button (click)="openSettings()"><mat-icon>settings</mat-icon></button>
  </span>
</div>
<!--TABLE-->
<mat-table #table [dataSource]="dataSource"
           matSort
           [matSortDisabled] ="this.dataListTableSettings.sort.disallowSorting"
           [multiTemplateDataRows]="true">
  <ng-container *ngFor="let col of definedColumns; let i = index" [cdkColumnDef]="col.columnPath" [sticky]="isColumnSticky(i)">
    <mat-header-cell *cdkHeaderCellDef mat-sort-header>{{col.columnName}}</mat-header-cell>
    <mat-cell *cdkCellDef="let row; let i = $implicit;"
              [ngStyle]= "getStyles(col.styles)"
              (click)="onThisClick(col, i)">
      <!-- SETTING [ngClass]="col" enables to define styles for each column, setting it to row[col].value will enable to define a style for certain cell content -->
      <div *ngIf="row[col.columnPath]"  class="table-cell">
        <span [innerHTML]="row[col.columnPath].value"></span>
      </div>
      <!--        {{ showValue(row, col) }} &lt;!&ndash; | highlight: toHighlightByFilter &ndash;&gt;-->
    </mat-cell>
  </ng-container>
  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row
    matRipple
    *matRowDef="let row; columns: displayedColumns;">
  </mat-row>
</mat-table>
<!-- PAGINATION -->
<mat-paginator #paginator
               [pageIndex]= "dataListTableSettings.paginator.pageIndex"
               [pageSize]= "dataListTableSettings.paginator.pageSize"
               [pageSizeOptions]= "dataListTableSettings.paginator.pageSizeOptions"
               [ngStyle]= "{display: dataListTableSettings.paginator.paginate ? 'block' : 'none'}">
</mat-paginator>
<!-- EXPORT -->
<div *ngIf="dataListTableSettings.export.showExport">
  <mat-form-field  style="margin: 3em">
    <mat-label>Export OptionSettings</mat-label>
    <mat-select [(value)]="exportSelection">
      <mat-option value="displayed">Displayed data only</mat-option>
      <mat-option value="complete">Complete export</mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field style="margin: 3em">
    <mat-label>Export FormatSettings</mat-label>
    <mat-select [(value)]="exportFormat">
      <mat-option value="json">json</mat-option>
      <mat-option value="csv">csv</mat-option>
    </mat-select>
  </mat-form-field>
  <button (click)="export()" style="margin: 3em">Export</button>
</div>



