<button mat-button matTooltip="Create new Folder" (click)="showAddFolderForm = true">
  <mat-icon>
    add
  </mat-icon>
</button>

<div class="div" style="margin-top: 50px" *ngIf="showAddFolderForm" >
  <div class="row">
    <div class="col-xs-12">
      <mat-form-field class="example-form-field">
        <mat-label>Folder Name</mat-label>
        <input matInput type="text" [(ngModel)]="folder">
        <button mat-button *ngIf="value" matSuffix mat-icon-button aria-label="Clear" (click)="value=''">
          <mat-icon>close</mat-icon>
        </button>
      </mat-form-field>
      <button mat-button (click)="createNewFolder(folder)">
        Create New Folder( title)
      </button>
      <button mat-button (click)="showFolders('-1')">
        Show main folders
      </button>
    </div>
  </div>
</div>

<div class="div" style="margin-top: 100px" *ngIf="showAddFolderForm">
  <div class="row">
    <div class="col-xs-12">
      <label for="folder_id">Main Folder Id </label>
      <input [(ngModel)]="mainFolder_id" type="text" id="folder_id">
      <button mat-button (click)="createSubFolder(folder,mainFolder_id)">
        Create New Subfolder( title, main Folder id)
      </button>
    </div>
  </div>
</div>

<div class="div">
  <div class="row">
    <div class="col-xs-12">
      <div *ngFor="let folderInstance of foldersArray">
        <button mat-button (click)="showFolders(folderInstance._id)">
          <mat-icon>folder</mat-icon> {{ folderInstance.title }}
        </button>
        <button mat-button [matMenuTriggerFor]="menu"><mat-icon>settings</mat-icon></button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item (click)="folderInstance.updateTitle = true">
            Update folder title
          </button>
          <button mat-menu-item (click)="addPageSetsToFolder(folderInstance._id, pageSetId)">
            Add a Pageset
          </button>
          <button mat-menu-item (click)="deletePageSetsFromFolder(folderInstance._id, pageSetId)">
            Delete a Pageset
          </button>
          <button mat-menu-item (click)="deleteFolder(folderInstance._id)">
            Delete Folder
          </button>
        </mat-menu>
        <input mat-input [(ngModel)]="folderInstance.title" *ngIf="folderInstance.updateTitle === true">
        <button
          mat-menu-item
          (click)="updateFolderTitle(folderInstance._id, folderInstance.title)" *ngIf="folderInstance.updateTitle === true">
          Update folder title
        </button>


      </div>
    </div>
  </div>
</div>
